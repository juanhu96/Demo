Start evaluate stage for setting _10000_5_4q_mnl...

Evaluating using MNL with setting tag _10000_5_4q_mnl.
 Results stored at /export/storage_covidvaccine/Result/MaxVaxDistLogLin/M5_K10000_4q/Dollar/

Importing estimation from BLP_matrix_Dollar_10000_5_4q_mnl.csv

Start evaluating for pharmacies only...

The number of pharmacies opened: 4035, number of Dollar opened: 0
sum of pg is 664.14068, sum of z is 4035.0

B/C consideration set, the maximum possible demand in coming round is 28.69649;

Set parameter ServerPassword
Set parameter CSQueueTimeout to value 120
Set parameter CSIdleTimeout to value 60
Set parameter ServerTimeout to value 10
Set parameter TokenServer to value "164.67.163.231"
Set parameter MIPFocus to value 3
Set parameter MIPGap to value 0.005
Set parameter TimeLimit to value 21600
Gurobi Optimizer version 10.0.1 build v10.0.1rc0 (linux64)

CPU model: AMD EPYC 7742 64-Core Processor, instruction set [SSE2|AVX|AVX2]
Thread count: 128 physical cores, 256 logical processors, using up to 32 threads

Optimize a model with 81396865 rows, 40695907 columns and 81424479 nonzeros
Model fingerprint: 0xc69a163e
Coefficient statistics:
  Matrix range     [3e-01, 9e+03]
  Objective range  [3e-01, 9e+03]
  Bounds range     [1e+00, 1e+00]
  RHS range        [1e+00, 1e+04]
Presolve removed 1018 rows and 0 columns (presolve time = 6s) ...
Presolve removed 81396120 rows and 40663242 columns (presolve time = 11s) ...
Presolve removed 81396120 rows and 40695162 columns (presolve time = 16s) ...
Presolve removed 81396865 rows and 40695907 columns
Presolve time: 20.50s
Presolve: All rows and columns removed
Iteration    Objective       Primal Inf.    Dual Inf.      Time
       0    2.6262971e+07   0.000000e+00   0.000000e+00     46s

Solved in 0 iterations and 46.33 seconds (48.51 work units)
Optimal objective  2.626297090e+07
Evaluation finished!

Evaluation with leftover fulfillments...

========================================================================================================================
Start filling the leftover demands to their 2 choice

Importing estimation from BLP_matrix_Dollar_10000_5_4q_mnl.csv

sum of pg is 664.14068, sum of z is 4035.0

Total demand fulfilled in previous round 26.26297, with leftover unfulfilled demand: 2.43352;    Resulting in a total of 28.69649, but b/c consideration set, the maximum possible demand in coming round is 0.68723;    Try to fill them with 3290 sites that has leftover capacity 14.0854

Set parameter MIPFocus to value 3
Set parameter MIPGap to value 0.005
Set parameter TimeLimit to value 21600
Gurobi Optimizer version 10.0.1 build v10.0.1rc0 (linux64)

CPU model: AMD EPYC 7742 64-Core Processor, instruction set [SSE2|AVX|AVX2]
Thread count: 128 physical cores, 256 logical processors, using up to 32 threads

Optimize a model with 81396865 rows, 40695907 columns and 81393518 nonzeros
Model fingerprint: 0x5dcaee8a
Coefficient statistics:
  Matrix range     [1e-01, 7e+03]
  Objective range  [1e-01, 7e+03]
  Bounds range     [1e+00, 1e+00]
  RHS range        [1e+00, 1e+04]
Presolve removed 4194 rows and 0 columns (presolve time = 8s) ...
Presolve removed 81396733 rows and 40694203 columns (presolve time = 16s) ...
Presolve removed 81396733 rows and 40695775 columns (presolve time = 20s) ...
Presolve removed 81396865 rows and 40695907 columns
Presolve time: 26.48s
Presolve: All rows and columns removed
Iteration    Objective       Primal Inf.    Dual Inf.      Time
       0    4.3395756e+05   0.000000e+00   0.000000e+00     65s

Solved in 0 iterations and 64.87 seconds (47.49 work units)
Optimal objective  4.339575621e+05
========================================================================================================================
Start filling the leftover demands to their 3 choice

Importing estimation from BLP_matrix_Dollar_10000_5_4q_mnl.csv

Total demand fulfilled in previous round 0.43396, with leftover unfulfilled demand: 0.25327;    Resulting in a total of 0.68723, but b/c consideration set, the maximum possible demand in coming round is 0.02325;    Try to fill them with 3139 sites that has leftover capacity 13.65109

Set parameter MIPFocus to value 3
Set parameter MIPGap to value 0.005
Set parameter TimeLimit to value 21600
Gurobi Optimizer version 10.0.1 build v10.0.1rc0 (linux64)

CPU model: AMD EPYC 7742 64-Core Processor, instruction set [SSE2|AVX|AVX2]
Thread count: 128 physical cores, 256 logical processors, using up to 32 threads

Optimize a model with 81396865 rows, 40695907 columns and 81391970 nonzeros
Model fingerprint: 0x17eab6a1
Coefficient statistics:
  Matrix range     [1e-01, 2e+03]
  Objective range  [1e-01, 2e+03]
  Bounds range     [1e+00, 1e+00]
  RHS range        [1e+00, 1e+04]
Presolve removed 4939 rows and 0 columns (presolve time = 5s) ...
Presolve removed 81396863 rows and 40695751 columns (presolve time = 10s) ...
Presolve removed 81396865 rows and 40695907 columns (presolve time = 16s) ...
Presolve removed 81396865 rows and 40695907 columns
Presolve time: 18.57s
Presolve: All rows and columns removed
Iteration    Objective       Primal Inf.    Dual Inf.      Time
       0    2.0520823e+04   0.000000e+00   0.000000e+00     42s

Solved in 0 iterations and 42.05 seconds (47.58 work units)
Optimal objective  2.052082305e+04
Finished evaluate stage for setting _10000_5_4q_mnl!


Start evaluate stage for setting _10000_5_4q_mnl_A1000...

Evaluating using MNL with setting tag _10000_5_4q_mnl_A1000.
 Results stored at /export/storage_covidvaccine/Result/MNL_partial_new/M5_K10000_4q/Dollar/

The number of pharmacies opened: 4035, number of Dollar opened: 1000
Is there any fractional number in the final solution z: False
================== MNL_partial_new ==================

sum of pg is 673.8604, sum of z is 5035.0

B/C consideration set, the maximum possible demand in coming round is 28.81665;

Set parameter ServerPassword
Set parameter CSQueueTimeout to value 120
Set parameter CSIdleTimeout to value 60
Set parameter ServerTimeout to value 10
Set parameter TokenServer to value "164.67.163.231"
Set parameter MIPFocus to value 3
Set parameter MIPGap to value 0.005
Set parameter TimeLimit to value 21600
Gurobi Optimizer version 10.0.1 build v10.0.1rc0 (linux64)

CPU model: AMD EPYC 7742 64-Core Processor, instruction set [SSE2|AVX|AVX2]
Thread count: 128 physical cores, 256 logical processors, using up to 32 threads

Optimize a model with 81396865 rows, 40695907 columns and 81431852 nonzeros
Model fingerprint: 0x151a3d70
Coefficient statistics:
  Matrix range     [2e-01, 8e+03]
  Objective range  [2e-01, 8e+03]
  Bounds range     [1e+00, 1e+00]
  RHS range        [1e+00, 1e+04]
Presolve removed 19 rows and 0 columns (presolve time = 22s) ...
Presolve removed 81396404 rows and 40655869 columns (presolve time = 42s) ...
Presolve removed 81396404 rows and 40689035 columns (presolve time = 51s) ...
Presolve removed 81396404 rows and 40695446 columns (presolve time = 58s) ...
Presolve removed 81396404 rows and 40695446 columns (presolve time = 62s) ...
Presolve removed 81396865 rows and 40695907 columns (presolve time = 71s) ...
Presolve removed 81396865 rows and 40695907 columns
Presolve time: 79.60s
Presolve: All rows and columns removed
Iteration    Objective       Primal Inf.    Dual Inf.      Time
       0    2.7707549e+07   0.000000e+00   0.000000e+00    159s

Solved in 0 iterations and 159.13 seconds (47.50 work units)
Optimal objective  2.770754868e+07
Evaluation finished!

Evaluation with leftover fulfillments...

========================================================================================================================
Start filling the leftover demands to their 2 choice

================== MNL_partial_new ==================

sum of pg is 673.8604, sum of z is 5035.0

Total demand fulfilled in previous round 27.70755, with leftover unfulfilled demand: 1.1091;    Resulting in a total of 28.81665, but b/c consideration set, the maximum possible demand in coming round is 0.5482;    Try to fill them with 4574 sites that has leftover capacity 22.64019

Set parameter MIPFocus to value 3
Set parameter MIPGap to value 0.005
Set parameter TimeLimit to value 21600
Gurobi Optimizer version 10.0.1 build v10.0.1rc0 (linux64)

CPU model: AMD EPYC 7742 64-Core Processor, instruction set [SSE2|AVX|AVX2]
Thread count: 128 physical cores, 256 logical processors, using up to 32 threads

Optimize a model with 81396865 rows, 40695907 columns and 81393282 nonzeros
Model fingerprint: 0xfe412cf5
Coefficient statistics:
  Matrix range     [1e-02, 5e+03]
  Objective range  [1e-02, 5e+03]
  Bounds range     [1e+00, 1e+00]
  RHS range        [1e+00, 1e+04]
Presolve removed 4354 rows and 0 columns (presolve time = 14s) ...
Presolve removed 81396743 rows and 40694439 columns (presolve time = 23s) ...
Presolve removed 81396743 rows and 40695429 columns (presolve time = 26s) ...
Presolve removed 81396743 rows and 40695785 columns (presolve time = 31s) ...
Presolve removed 81396865 rows and 40695907 columns (presolve time = 36s) ...
Presolve removed 81396865 rows and 40695907 columns
Presolve time: 40.86s
Presolve: All rows and columns removed
Iteration    Objective       Primal Inf.    Dual Inf.      Time
       0    3.3448906e+05   0.000000e+00   0.000000e+00     92s

Solved in 0 iterations and 91.52 seconds (47.49 work units)
Optimal objective  3.344890599e+05
========================================================================================================================
Start filling the leftover demands to their 3 choice

================== MNL_partial_new ==================

Total demand fulfilled in previous round 0.33449, with leftover unfulfilled demand: 0.21371;    Resulting in a total of 0.5482, but b/c consideration set, the maximum possible demand in coming round is 0.02539;    Try to fill them with 4446 sites that has leftover capacity 22.30541

Set parameter MIPFocus to value 3
Set parameter MIPGap to value 0.005
Set parameter TimeLimit to value 21600
Gurobi Optimizer version 10.0.1 build v10.0.1rc0 (linux64)

CPU model: AMD EPYC 7742 64-Core Processor, instruction set [SSE2|AVX|AVX2]
Thread count: 128 physical cores, 256 logical processors, using up to 32 threads

Optimize a model with 81396865 rows, 40695907 columns and 81392035 nonzeros
Model fingerprint: 0xe98ff6c6
Coefficient statistics:
  Matrix range     [7e-02, 2e+03]
  Objective range  [7e-02, 2e+03]
  Bounds range     [1e+00, 1e+00]
  RHS range        [1e+00, 1e+04]
Presolve removed 4898 rows and 0 columns (presolve time = 14s) ...
Presolve removed 81396861 rows and 40695686 columns (presolve time = 22s) ...
Presolve removed 81396861 rows and 40695894 columns (presolve time = 27s) ...
Presolve removed 81396861 rows and 40695903 columns (presolve time = 30s) ...
Presolve removed 81396865 rows and 40695907 columns (presolve time = 36s) ...
Presolve removed 81396865 rows and 40695907 columns
Presolve time: 41.45s
Presolve: All rows and columns removed
Iteration    Objective       Primal Inf.    Dual Inf.      Time
       0    2.0081177e+04   0.000000e+00   0.000000e+00    100s

Solved in 0 iterations and 99.83 seconds (47.49 work units)
Optimal objective  2.008117735e+04
Finished evaluate stage for setting _10000_5_4q_mnl_A1000!


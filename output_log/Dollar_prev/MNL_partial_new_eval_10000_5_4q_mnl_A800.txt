Start evaluate stage for setting _10000_5_4q_mnl_A800...

Evaluating using MNL with setting tag _10000_5_4q_mnl_A800.
 Results stored at /export/storage_covidvaccine/Result/MNL_partial_new/M5_K10000_4q/Dollar/

The number of pharmacies opened: 4035, number of Dollar opened: 800
Is there any fractional number in the final solution z: False
================== MNL_partial_new ==================

sum of pg is 673.8604, sum of z is 4835.0

B/C consideration set, the maximum possible demand in coming round is 28.82217;

Set parameter ServerPassword
Set parameter CSQueueTimeout to value 120
Set parameter CSIdleTimeout to value 60
Set parameter ServerTimeout to value 10
Set parameter TokenServer to value "164.67.163.231"
Set parameter MIPFocus to value 3
Set parameter MIPGap to value 0.005
Set parameter TimeLimit to value 21600
Gurobi Optimizer version 10.0.1 build v10.0.1rc0 (linux64)

CPU model: AMD EPYC 7742 64-Core Processor, instruction set [SSE2|AVX|AVX2]
Thread count: 128 physical cores, 256 logical processors, using up to 32 threads

Optimize a model with 81396865 rows, 40695907 columns and 81430442 nonzeros
Model fingerprint: 0x1027f0ea
Coefficient statistics:
  Matrix range     [2e-01, 8e+03]
  Objective range  [2e-01, 8e+03]
  Bounds range     [1e+00, 1e+00]
  RHS range        [1e+00, 1e+04]
Presolve removed 219 rows and 0 columns (presolve time = 28s) ...
Presolve removed 81396398 rows and 40657279 columns (presolve time = 44s) ...
Presolve removed 81396398 rows and 40688963 columns (presolve time = 55s) ...
Presolve removed 81396398 rows and 40695440 columns (presolve time = 61s) ...
Presolve removed 81396398 rows and 40695440 columns (presolve time = 65s) ...
Presolve removed 81396865 rows and 40695907 columns (presolve time = 75s) ...
Presolve removed 81396865 rows and 40695907 columns (presolve time = 77s) ...
Presolve removed 81396865 rows and 40695907 columns
Presolve time: 84.25s
Presolve: All rows and columns removed
Iteration    Objective       Primal Inf.    Dual Inf.      Time
       0    2.7716447e+07   0.000000e+00   0.000000e+00    160s

Solved in 0 iterations and 159.62 seconds (47.50 work units)
Optimal objective  2.771644691e+07
Evaluation finished!

Evaluation with leftover fulfillments...

========================================================================================================================
Start filling the leftover demands to their 2 choice

================== MNL_partial_new ==================

sum of pg is 673.8604, sum of z is 4835.0

Total demand fulfilled in previous round 27.71645, with leftover unfulfilled demand: 1.10572;    Resulting in a total of 28.82217, but b/c consideration set, the maximum possible demand in coming round is 0.54407;    Try to fill them with 4368 sites that has leftover capacity 20.63137

Set parameter MIPFocus to value 3
Set parameter MIPGap to value 0.005
Set parameter TimeLimit to value 21600
Gurobi Optimizer version 10.0.1 build v10.0.1rc0 (linux64)

CPU model: AMD EPYC 7742 64-Core Processor, instruction set [SSE2|AVX|AVX2]
Thread count: 128 physical cores, 256 logical processors, using up to 32 threads

Optimize a model with 81396865 rows, 40695907 columns and 81393331 nonzeros
Model fingerprint: 0xbac942be
Coefficient statistics:
  Matrix range     [1e-02, 5e+03]
  Objective range  [1e-02, 5e+03]
  Bounds range     [1e+00, 1e+00]
  RHS range        [1e+00, 1e+04]
Presolve removed 4322 rows and 0 columns (presolve time = 12s) ...
Presolve removed 81396742 rows and 40694390 columns (presolve time = 21s) ...
Presolve removed 81396742 rows and 40695425 columns (presolve time = 30s) ...
Presolve removed 81396742 rows and 40695784 columns (presolve time = 34s) ...
Presolve removed 81396742 rows and 40695784 columns (presolve time = 37s) ...
Presolve removed 81396865 rows and 40695907 columns (presolve time = 40s) ...
Presolve removed 81396865 rows and 40695907 columns
Presolve time: 45.32s
Presolve: All rows and columns removed
Iteration    Objective       Primal Inf.    Dual Inf.      Time
       0    3.3065644e+05   0.000000e+00   0.000000e+00     99s

Solved in 0 iterations and 98.79 seconds (47.49 work units)
Optimal objective  3.306564392e+05
========================================================================================================================
Start filling the leftover demands to their 3 choice

================== MNL_partial_new ==================

Total demand fulfilled in previous round 0.33066, with leftover unfulfilled demand: 0.21341;    Resulting in a total of 0.54407, but b/c consideration set, the maximum possible demand in coming round is 0.02428;    Try to fill them with 4237 sites that has leftover capacity 20.30041

Set parameter MIPFocus to value 3
Set parameter MIPGap to value 0.005
Set parameter TimeLimit to value 21600
Gurobi Optimizer version 10.0.1 build v10.0.1rc0 (linux64)

CPU model: AMD EPYC 7742 64-Core Processor, instruction set [SSE2|AVX|AVX2]
Thread count: 128 physical cores, 256 logical processors, using up to 32 threads

Optimize a model with 81396865 rows, 40695907 columns and 81392036 nonzeros
Model fingerprint: 0xd77b61cd
Coefficient statistics:
  Matrix range     [7e-02, 2e+03]
  Objective range  [7e-02, 2e+03]
  Bounds range     [1e+00, 1e+00]
  RHS range        [1e+00, 1e+04]
Presolve removed 4897 rows and 0 columns (presolve time = 15s) ...
Presolve removed 81396862 rows and 40695685 columns (presolve time = 24s) ...
Presolve removed 81396862 rows and 40695896 columns (presolve time = 28s) ...
Presolve removed 81396862 rows and 40695904 columns (presolve time = 32s) ...
Presolve removed 81396865 rows and 40695907 columns (presolve time = 37s) ...
Presolve removed 81396865 rows and 40695907 columns
Presolve time: 44.05s
Presolve: All rows and columns removed
Iteration    Objective       Primal Inf.    Dual Inf.      Time
       0    1.9784802e+04   0.000000e+00   0.000000e+00     91s

Solved in 0 iterations and 91.01 seconds (47.54 work units)
Optimal objective  1.978480244e+04
Finished evaluate stage for setting _10000_5_4q_mnl_A800!

